<?xml version="1.0" encoding="utf-8"?>

<!--
    Name:       csleobuild.xml
    Purpose:
    Author:
    Copyright:
    Licence:
-->

<bot xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xi="http://www.w3.org/2001/XInclude">

<xi:include href="include/csleobuild.xml"/>

<xsl:variable name="CLANGOPTIONS" select="'&quot;-Qunused-arguments -Wno-parentheses-equality&quot;'"/>
<xsl:variable name="CLANGOPTIONS32" select="'&quot;-Qunused-arguments -Wno-parentheses-equality -arch i386&quot;'"/>
<xsl:variable name="SDK106" select="'--with-macosx-version-min=10.5 --with-macosx-sdk=/Developer/SDKs/MacOSX10.6.sdk'"/>
    
<build>
    <name>OSX 10.9 Intel wxOSX Cocoa trunk</name>
    <builddir>csleo_cocoa</builddir>
    <scheduler>trunk_quick</scheduler>

    <steps>
        <checkout/>
        <configure options="CXXFLAGS={$CLANGOPTIONS} CFLAGS={$CLANGOPTIONS} OBJCXXFLAGS={$CLANGOPTIONS}"/>
        <compile-all/>
        <run-tests/>
    </steps>
</build>
    
<build>
    <name>OSX 10.6 Intel wxOSX Cocoa Stable</name>
    <builddir>csleo_stable_cocoa</builddir>
    <scheduler>stable_quick</scheduler>

    <steps>
        <checkout branch="{$STABLE_BRANCH}"/>
        <configure options="CXXFLAGS={$CLANGOPTIONS32} CFLAGS={$CLANGOPTIONS32} OBJCXXFLAGS={$CLANGOPTIONS32} {$SDK106}"/>
        <compile-all/>
        <run-tests/>
    </steps>
</build>

<build>
    <name>OSX 10.6 Intel wxOSX Carbon Stable</name>
    <builddir>csleo_stable_carbon</builddir>
    <scheduler>stable_quick</scheduler>

    <steps>
    <checkout branch="{$STABLE_BRANCH}"/>
        <configure options="CXXFLAGS={$CLANGOPTIONS32} CFLAGS={$CLANGOPTIONS32} OBJCXXFLAGS={$CLANGOPTIONS32} {$SDK106} --with-osx_carbon"/>
    <compile-all/>
    <run-tests/>
    </steps>
</build>
            
</bot>
