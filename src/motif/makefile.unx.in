
#
#    I want this to be:
#	$(INSTALL_DATA) $(INCDIR)/wx/window.h $(includedir)/wx/window.h
#
#    foreach $file (sort keys %wxINCLUDE) {
#        next if $wxINCLUDE{$file} =~ /\b(GTK|MSW|MOT|PM|MAC|GEN|HTM|UNX)\b/;
#    
#        $project{"WXINSTALLWX"} .= "$(INSTALL_DATA)" . " " . "\$(INCDIR)/wx/" . $file . " \$(includedir)/wx/" . $file . "\n"
#    }
# 
#
#
# This file was automatically generated by tmake at 19:48, 1999/08/10
# DO NOT CHANGE THIS FILE, YOUR CHANGES WILL BE LOST! CHANGE UNX.T!

#
# File:     makefile.unx
# Author:   Julian Smart, Robert Roebling, Vadim Zeitlin
# Created:  1993
# Updated:  1999
# Copyright:(c) 1993, AIAI, University of Edinburgh,
# Copyright:(c) 1999, Vadim Zeitlin
# Copyright:(c) 1999, Robert Roebling
#
# Makefile for libwx_gtk.a, libwx_motif.a and libwx_msw.a

###################################################################

include ../make.env

########################### Paths #################################

srcdir = @srcdir@

VPATH = :$(srcdir)

top_srcdir = @top_srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@

bindir = @bindir@
sbindir = @sbindir@
libexecdir = @libexecdir@
datadir = @datadir@
sysconfdir = @sysconfdir@
sharedstatedir = @sharedstatedir@
localstatedir = @localstatedir@
libdir = @libdir@
infodir = @infodir@
mandir = @mandir@
includedir = @includedir@
oldincludedir = /usr/include

DESTDIR =

pkgdatadir = $(datadir)/@PACKAGE@
pkglibdir = $(libdir)/@PACKAGE@
pkgincludedir = $(includedir)/@PACKAGE@

top_builddir = ../..

INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_SCRIPT = @INSTALL_SCRIPT@
transform = @program_transform_name@

NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
build_alias = @build_alias@
build_triplet = @build@
host_alias = @host_alias@
host_triplet = @host@
target_alias = @target_alias@
target_triplet = @target@

############################# Dirs #################################

WXDIR = $(srcdir)/../..

# Subordinate library possibilities

GENDIR  = $(WXDIR)/src/generic
COMMDIR = $(WXDIR)/src/common
HTMLDIR = $(WXDIR)/src/html
UNIXDIR = $(WXDIR)/src/unix
PNGDIR  = $(WXDIR)/src/png
JPEGDIR = $(WXDIR)/src/jpeg
ZLIBDIR = $(WXDIR)/src/zlib
GTKDIR  = $(WXDIR)/src/gtk
MOTIFDIR = $(WXDIR)/src/motif
INCDIR  = $(WXDIR)/include

DOCDIR = $(WXDIR)/docs

############################## Files ##################################

GTK_GENERICOBJS = \
                ../generic/busyinfo.o \
		../generic/caret.o \
		../generic/colrdlgg.o \
		../generic/dirdlgg.o \
		../generic/extdlgg.o \
		../generic/fontdlgg.o \
		../generic/gridg.o \
		../generic/imaglist.o \
		../generic/laywin.o \
		../generic/listctrl.o \
		../generic/numdlgg.o \
		../generic/panelg.o \
		../generic/printps.o \
		../generic/prntdlgg.o \
		../generic/progdlgg.o \
		../generic/prop.o \
		../generic/propform.o \
		../generic/proplist.o \
		../generic/sashwin.o \
		../generic/scrolwin.o \
		../generic/splitter.o \
		../generic/statusbr.o \
		../generic/tipdlg.o \
		../generic/treectrl.o

GTK_COMMONOBJS  = \
		parser.o \
		../common/cmndata.o \
		../common/config.o \
		../common/date.o \
		../common/datstrm.o \
		../common/db.o \
		../common/dbtable.o \
		../common/dcbase.o \
		../common/dlgcmn.o \
		../common/docmdi.o \
		../common/docview.o \
		../common/dynarray.o \
		../common/dynlib.o \
		../common/event.o \
		../common/extended.o \
		../common/ffile.o \
		../common/file.o \
		../common/fileconf.o \
		../common/filefn.o \
		../common/filesys.o \
		../common/framecmn.o \
		../common/fs_inet.o \
		../common/fs_zip.o \
		../common/ftp.o \
		../common/gdicmn.o \
		../common/hash.o \
		../common/helpbase.o \
		../common/http.o \
		../common/imagbmp.o \
		../common/image.o \
		../common/imaggif.o \
		../common/imagjpeg.o \
		../common/imagpng.o \
		../common/intl.o \
		../common/ipcbase.o \
		../common/layout.o \
		../common/list.o \
		../common/log.o \
		../common/memory.o \
		../common/mimetype.o \
		../common/module.o \
		../common/mstream.o \
		../common/object.o \
		../common/objstrm.o \
		../common/paper.o \
		../common/prntbase.o \
		../common/process.o \
		../common/protocol.o \
		../common/resource.o \
		../common/sckaddr.o \
		../common/sckfile.o \
		../common/sckipc.o \
		../common/sckstrm.o \
		../common/sizer.o \
		../common/socket.o \
		../common/strconv.o \
		../common/stream.o \
		../common/string.o \
		../common/tbarbase.o \
		../common/tbarsmpl.o \
		../common/textcmn.o \
		../common/textfile.o \
		../common/time.o \
		../common/timercmn.o \
		../common/tokenzr.o \
		../common/txtstrm.o \
		../common/unzip.o \
		../common/url.o \
		../common/utilscmn.o \
		../common/valgen.o \
		../common/validate.o \
		../common/valtext.o \
		../common/variant.o \
		../common/wfstream.o \
		../common/wincmn.o \
		../common/wxchar.o \
		../common/wxexpr.o \
		../common/zipstrm.o \
		../common/zstream.o

GTK_GUIOBJS     = \
		../gtk/accel.o \
		../gtk/app.o \
		../gtk/bitmap.o \
		../gtk/bmpbuttn.o \
		../gtk/brush.o \
		../gtk/button.o \
		../gtk/checkbox.o \
		../gtk/checklst.o \
		../gtk/choicdlg.o \
		../gtk/choice.o \
		../gtk/clipbrd.o \
		../gtk/colour.o \
		../gtk/combobox.o \
		../gtk/control.o \
		../gtk/cursor.o \
		../gtk/data.o \
		../gtk/dataobj.o \
		../gtk/dc.o \
		../gtk/dcclient.o \
		../gtk/dcmemory.o \
		../gtk/dcscreen.o \
		../gtk/dialog.o \
		../gtk/dnd.o \
		../gtk/filedlg.o \
		../gtk/font.o \
		../gtk/frame.o \
		../gtk/gauge.o \
		../gtk/gdiobj.o \
		../gtk/gsockgtk.o \
		../gtk/icon.o \
		../gtk/listbox.o \
		../gtk/main.o \
		../gtk/mdi.o \
		../gtk/menu.o \
		../gtk/minifram.o \
		../gtk/msgdlg.o \
		../gtk/notebook.o \
		../gtk/palette.o \
		../gtk/pen.o \
		../gtk/radiobox.o \
		../gtk/radiobut.o \
		../gtk/region.o \
		../gtk/scrolbar.o \
		../gtk/settings.o \
		../gtk/slider.o \
		../gtk/spinbutt.o \
		../gtk/statbmp.o \
		../gtk/statbox.o \
		../gtk/statline.o \
		../gtk/stattext.o \
		../gtk/tbargtk.o \
		../gtk/textctrl.o \
		../gtk/textdlg.o \
		../gtk/timer.o \
		../gtk/tooltip.o \
		../gtk/utilsgtk.o \
		../gtk/utilsres.o \
		../gtk/wave.o \
		../gtk/win_gtk.o \
		../gtk/window.o

MOTIF_GENERICOBJS = \
                ../generic/busyinfo.o \
		../generic/caret.o \
		../generic/choicdgg.o \
		../generic/colrdlgg.o \
		../generic/dirdlgg.o \
		../generic/extdlgg.o \
		../generic/fontdlgg.o \
		../generic/gridg.o \
		../generic/helpxlp.o \
		../generic/imaglist.o \
		../generic/laywin.o \
		../generic/listctrl.o \
		../generic/msgdlgg.o \
		../generic/notebook.o \
		../generic/numdlgg.o \
		../generic/panelg.o \
		../generic/printps.o \
		../generic/prntdlgg.o \
		../generic/progdlgg.o \
		../generic/prop.o \
		../generic/propform.o \
		../generic/proplist.o \
		../generic/sashwin.o \
		../generic/scrolwin.o \
		../generic/splitter.o \
		../generic/statusbr.o \
		../generic/tabg.o \
		../generic/textdlgg.o \
		../generic/tipdlg.o \
		../generic/treectrl.o

MOTIF_COMMONOBJS  = \
		parser.o \
		../common/choiccmn.o \
		../common/cmndata.o \
		../common/config.o \
		../common/ctrlcmn.o \
		../common/date.o \
		../common/datstrm.o \
		../common/db.o \
		../common/dbtable.o \
		../common/dcbase.o \
		../common/dlgcmn.o \
		../common/docmdi.o \
		../common/docview.o \
		../common/dynarray.o \
		../common/dynlib.o \
		../common/event.o \
		../common/extended.o \
		../common/ffile.o \
		../common/file.o \
		../common/fileconf.o \
		../common/filefn.o \
		../common/filesys.o \
		../common/framecmn.o \
		../common/fs_inet.o \
		../common/fs_zip.o \
		../common/ftp.o \
		../common/gdicmn.o \
		../common/hash.o \
		../common/helpbase.o \
		../common/http.o \
		../common/imagbmp.o \
		../common/image.o \
		../common/imaggif.o \
		../common/imagjpeg.o \
		../common/imagpng.o \
		../common/intl.o \
		../common/ipcbase.o \
		../common/layout.o \
		../common/list.o \
		../common/log.o \
		../common/memory.o \
		../common/mimetype.o \
		../common/module.o \
		../common/mstream.o \
		../common/object.o \
		../common/objstrm.o \
		../common/odbc.o \
		../common/paper.o \
		../common/prntbase.o \
		../common/process.o \
		../common/protocol.o \
		../common/resource.o \
		../common/sckaddr.o \
		../common/sckfile.o \
		../common/sckipc.o \
		../common/sckstrm.o \
		../common/sizer.o \
		../common/socket.o \
		../common/strconv.o \
		../common/stream.o \
		../common/string.o \
		../common/tbarbase.o \
		../common/tbarsmpl.o \
		../common/textcmn.o \
		../common/textfile.o \
		../common/time.o \
		../common/timercmn.o \
		../common/tokenzr.o \
		../common/txtstrm.o \
		../common/unzip.o \
		../common/url.o \
		../common/utilscmn.o \
		../common/valgen.o \
		../common/validate.o \
		../common/valtext.o \
		../common/variant.o \
		../common/wfstream.o \
		../common/wincmn.o \
		../common/wxchar.o \
		../common/wxexpr.o \
		../common/zipstrm.o \
		../common/zstream.o

MOTIF_GUIOBJS     = \
                ../motif/xmcombo/xmcombo.o \
		../motif/accel.o \
		../motif/app.o \
		../motif/bitmap.o \
		../motif/bmpbuttn.o \
		../motif/brush.o \
		../motif/button.o \
		../motif/checkbox.o \
		../motif/choice.o \
		../motif/clipbrd.o \
		../motif/colour.o \
		../motif/combobox.o \
		../motif/control.o \
		../motif/cursor.o \
		../motif/data.o \
		../motif/dataobj.o \
		../motif/dc.o \
		../motif/dcclient.o \
		../motif/dcmemory.o \
		../motif/dcscreen.o \
		../motif/dialog.o \
		../motif/filedlg.o \
		../motif/font.o \
		../motif/frame.o \
		../motif/gauge.o \
		../motif/gdiobj.o \
		../motif/gsockmot.o \
		../motif/icon.o \
		../motif/listbox.o \
		../motif/main.o \
		../motif/mdi.o \
		../motif/menu.o \
		../motif/menuitem.o \
		../motif/minifram.o \
		../motif/msgdlg.o \
		../motif/palette.o \
		../motif/pen.o \
		../motif/radiobox.o \
		../motif/radiobut.o \
		../motif/region.o \
		../motif/scrolbar.o \
		../motif/settings.o \
		../motif/slider.o \
		../motif/statbmp.o \
		../motif/statbox.o \
		../motif/stattext.o \
		../motif/textctrl.o \
		../motif/timer.o \
		../motif/toolbar.o \
		../motif/utils.o \
		../motif/window.o

HTMLOBJS = \
                ../html/htmlcell.o \
		../html/htmlfilter.o \
		../html/htmlhelp.o \
		../html/htmlhelp_io.o \
		../html/htmlparser.o \
		../html/htmltag.o \
		../html/htmlwin.o \
		../html/htmlwinparser.o \
		../html/mod_fonts.o \
		../html/mod_hline.o \
		../html/mod_image.o \
		../html/mod_layout.o \
		../html/mod_links.o \
		../html/mod_list.o \
		../html/mod_pre.o \
		../html/mod_tables.o \
		../html/search.o

UNIXOBJS     = \
		../unix/gsocket.o \
		../unix/threadpsx.o \
		../unix/utilsunx.o

ZLIBOBJS    = \
		../zlib/adler32.o \
		../zlib/compress.o \
		../zlib/crc32.o \
		../zlib/gzio.o \
		../zlib/uncompr.o \
		../zlib/deflate.o \
		../zlib/trees.o \
		../zlib/zutil.o \
		../zlib/inflate.o \
		../zlib/infblock.o \
		../zlib/inftrees.o \
		../zlib/infcodes.o \
		../zlib/infutil.o \
		../zlib/inffast.o

PNGOBJS     = \
		../png/png.o \
		../png/pngread.o \
		../png/pngrtran.o \
		../png/pngrutil.o \
		../png/pngpread.o \
		../png/pngtrans.o \
		../png/pngwrite.o \
		../png/pngwtran.o \
		../png/pngwutil.o \
		../png/pngerror.o \
		../png/pngmem.o \
		../png/pngwio.o \
		../png/pngrio.o \
		../png/pngget.o \
		../png/pngset.o


JPEGOBJS    = \
		../jpeg/jcomapi.o \
		../jpeg/jutils.o \
		../jpeg/jerror.o \
		../jpeg/jmemmgr.o \
		../jpeg/jmemnobs.o \
		../jpeg/jcapimin.o \
		../jpeg/jcapistd.o \
		../jpeg/jctrans.o \
		../jpeg/jcparam.o \
		../jpeg/jdatadst.o \
		../jpeg/jcinit.o \
		../jpeg/jcmaster.o \
		../jpeg/jcmarker.o \
		../jpeg/jcmainct.o \
		../jpeg/jcprepct.o \
		../jpeg/jccoefct.o \
		../jpeg/jccolor.o \
		../jpeg/jcsample.o \
		../jpeg/jchuff.o \
		../jpeg/jcphuff.o \
		../jpeg/jcdctmgr.o \
		../jpeg/jfdctfst.o \
		../jpeg/jfdctflt.o \
		../jpeg/jfdctint.o \
		../jpeg/jdapimin.o \
		../jpeg/jdapistd.o \
		../jpeg/jdtrans.o \
		../jpeg/jdatasrc.o \
		../jpeg/jdmaster.o \
		../jpeg/jdinput.o \
		../jpeg/jdmarker.o \
		../jpeg/jdhuff.o \
		../jpeg/jdphuff.o \
		../jpeg/jdmainct.o \
		../jpeg/jdcoefct.o \
		../jpeg/jdpostct.o \
		../jpeg/jddctmgr.o \
		../jpeg/jidctfst.o \
		../jpeg/jidctflt.o \
		../jpeg/jidctint.o \
		../jpeg/jidctred.o \
		../jpeg/jdsample.o \
		../jpeg/jdcolor.o \
		../jpeg/jquant1.o \
		../jpeg/jquant2.o \
		../jpeg/jdmerge.o


OBJECTS = $(@GUIOBJS@) $(@COMMONOBJS@) $(@GENERICOBJS@) $(HTMLOBJS) $(UNIXOBJS) \
	  $(JPEGOBJS) $(PNGOBJS) $(ZLIBOBJS)


REQUIRED_DIRS = ../../lib ../../src ../../src/common ../../src/gtk ../../src/motif \
                ../../src/generic ../../src/unix ../../src/motif/xmombo ../../src/html \
		../../src/zlib ../../src/jpeg ../../src/png

all:    $(REQUIRED_DIRS) $(OBJECTS) $(WXLIB)

$(REQUIRED_DIRS):	$(WXDIR)/include/wx/defs.h $(WXDIR)/include/wx/object.h $(WXDIR)/include/wx/setup.h
	@if test ! -d ../../lib; then mkdir ../../lib; fi
	@if test ! -d ../../src; then mkdir ../../src; fi
	@if test ! -d ../../src/common; then mkdir ../../src/common; fi
	@if test ! -d ../../src/gtk; then mkdir ../../src/gtk; fi
	@if test ! -d ../../src/motif; then mkdir ../../src/motif; fi
	@if test ! -d ../../src/motif/xmcombo; then mkdir ../../src/motif/xmcombo; fi
	@if test ! -d ../../src/generic; then mkdir ../../src/generic; fi
	@if test ! -d ../../src/unix; then mkdir ../../src/unix; fi
	@if test ! -d ../../src/html; then mkdir ../../src/html; fi
	@if test ! -d ../../src/png; then mkdir ../../src/png; fi
	@if test ! -d ../../src/jpeg; then mkdir ../../src/jpeg; fi
	@if test ! -d ../../src/zlib; then mkdir ../../src/zlib; fi

$(WXLIB):  $(OBJECTS)
	@if test ! ../../samples/dialog.cpp; \
	    then cp -f -r $(WXDIR)/samples ../..;  \
	fi
	$(AR) $(AROPTIONS) ../../lib/$@ $(OBJECTS)
	$(RANLIB) ../../lib/$@

$(OBJECTS):	$(WXDIR)/include/wx/defs.h $(WXDIR)/include/wx/object.h $(WXDIR)/include/wx/setup.h

parser.o:    parser.c lexer.c
	$(CCLEX) -c $(CFLAGS) -o $@ parser.c

parser.c:	$(COMMDIR)/parser.y lexer.c
	$(YACC) $(COMMDIR)/parser.y
	@sed -e "s;$(COMMDIR)/y.tab.c;parser.y;g" < y.tab.c | \
	sed -e "s/BUFSIZ/5000/g"            | \
	sed -e "s/YYLMAX 200/YYLMAX 5000/g" | \
	sed -e "s/yy/PROIO_yy/g"            | \
	sed -e "s/input/PROIO_input/g"      | \
	sed -e "s/unput/PROIO_unput/g"      > parser.c
	@$(RM) y.tab.c

lexer.c:	$(COMMDIR)/lexer.l
	$(LEX) $(COMMDIR)/lexer.l
	@sed -e "s;$(COMMDIR)/lex.yy.c;lexer.l;g" < lex.yy.c | \
	sed -e "s/yy/PROIO_yy/g"            | \
	sed -e "s/input/PROIO_input/g"      | \
	sed -e "s/unput/PROIO_unput/g"      > lexer.c
	@$(RM) lex.yy.c

install: $(WXLIB)

clean:
	rm -f *.o
	rm -f *.lo
	rm -f parser.c
	rm -f lexer.c
	rm -f *.a
	rm -f *.la

cleanall: clean
